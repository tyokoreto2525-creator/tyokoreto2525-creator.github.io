<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Midorimushi Portfolio</title>
  <link rel="stylesheet" href="css/style.css" />
  <style>
    /* ギャラリー内のタイトル行 */
    .work-caption-row {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.9rem;
    }
    .work-title {
      font-weight: bold;
    }
    /* タイトル横のボタン */
    .open-detail {
      font-size: 0.8rem;
      padding: 2px 8px;
      border-radius: 4px;
      border: 1px solid #ccc;
      background: #f8f8f8;
      cursor: pointer;
    }
    .open-detail:hover {
      background: #eee;
    }
    /* 二重ポップアップ用のモーダル */
    .detail-modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      display: none;
      z-index: 9999; /* ギャラリーより上に表示 */
    }
    .detail-modal.is-open {
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .detail-inner {
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      background: #fff;
      padding: 16px 20px;
      border-radius: 8px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
    }
    .detail-close {
      float: right;
      border: none;
      background: transparent;
      font-size: 1rem;
      cursor: pointer;
    }
    .detail-body {
      margin-top: 8px;
      font-size: 0.9rem;
      line-height: 1.6;
      white-space: pre-wrap; /* 原文の改行を活かす */
    }
  </style>
</head>
<body>
<header class="container">
  <h1>ちょこっとチョコレート / Portfolio(テスト)</h1>
  <nav class="nav">
    <a href="#contact">お問い合わせ</a>
  </nav>
</header>

<main class="container">
  <h2>Chocolate Mint</h2>
  <p>テスト</p>

  <!-- 背景画像＋上に重ねるギャラリー -->
  <section id="works" class="card image-overlay-wrapper">
    <div class="cover-image">
      <!-- cover.webp を背景にしたい場合は CSSで設定 -->

      <div class="overlay-gallery">

        <!-- 作品1：画像 -->
        <div class="art-card bg-01">
          <div class="art-content">
            <h3>画像</h3>
            <div class="caption-container">
              <button
                class="toggle-button open-gallery"
                type="button"
                data-gallery="gallery-01"
              >
                ▼ 詳細を見る
              </button>
              <p id="cap-01" class="caption"></p>
            </div>
          </div>
        </div>

        <!-- 作品2：動画 -->
        <div class="art-card bg-02">
          <div class="art-content">
            <h3>動画</h3>
            <div class="caption-container">
              <button
                class="toggle-button open-gallery"
                type="button"
                data-gallery="gallery-02"
              >
                ▼ 詳細を見る
              </button>
              <p id="cap-02" class="caption"></p>
            </div>
          </div>
        </div>

        <!-- 作品3：ブログ -->
        <div class="art-card bg-03">
          <div class="art-content">
            <h3>ブログ</h3>
            <div class="caption-container">
              <button
                class="toggle-button open-gallery"
                type="button"
                data-gallery="gallery-03"
              >
                ▼ 詳細を見る
              </button>
              <p id="cap-03" class="caption"></p>
            </div>
          </div>
        </div>

        <!-- 作品4：その他 -->
        <div class="art-card bg-04">
          <div class="art-content">
            <h3>その他</h3>
            <div class="caption-container">
              <button
                class="toggle-button open-gallery"
                type="button"
                data-gallery="gallery-04"
              >
                ▼ 詳細を見る
              </button>
              <p id="cap-04" class="caption"></p>
            </div>
          </div>
        </div>

      </div> <!-- overlay-gallery -->
    </div>   <!-- cover-image -->
  </section>

  <!-- ギャラリー1：画像（ここから） -->
  <div id="gallery-01" class="gallery-modal" aria-hidden="true">
    <div class="gallery-inner">
      <button class="gallery-close" type="button">✕ 閉じる</button>

      <div class="gallery-images">

        <!-- 1 -->
        <figure>
          <img src="../assets/E01.webp" alt="黄昏の祈り">
          <figcaption>
            <div class="work-caption-row">
              <span class="work-title">黄昏の祈り</span>
              <button
                type="button"
                class="open-detail"
                data-detail="detail-e01"
              >
                内容を開く
              </button>
            </div>
          </figcaption>
        </figure>

        <!-- 2 -->
        <figure>
          <img src="../assets/E02.webp" alt="碧雫のマーメイド">
          <figcaption>
            <div class="work-caption-row">
              <span class="work-title">碧雫のマーメイド</span>
              <button
                type="button"
                class="open-detail"
                data-detail="detail-e02"
              >
                内容を開く
              </button>
            </div>
          </figcaption>
        </figure>

        <!-- 3 -->
        <figure>
          <img src="../assets/E03.webp" alt="森に囁く少女">
          <figcaption>
            <div class="work-caption-row">
              <span class="work-title">森に囁く少女</span>
              <button
                type="button"
                class="open-detail"
                data-detail="detail-e03"
              >
                内容を開く
              </button>
            </div>
          </figcaption>
        </figure>

        <!-- 4 -->
        <figure>
          <img src="../assets/E04.webp" alt="水色リボンの微笑み">
          <figcaption>
            <div class="work-caption-row">
              <span class="work-title">水色リボンの微笑み</span>
              <button
                type="button"
                class="open-detail"
                data-detail="detail-e04"
              >
                内容を開く
              </button>
            </div>
          </figcaption>
        </figure>

        <!-- 5 -->
        <figure>
          <img src="../assets/E05.webp" alt="内緒話の放課後">
          <figcaption>
            <div class="work-caption-row">
              <span class="work-title">内緒話の放課後</span>
              <button
                type="button"
                class="open-detail"
                data-detail="detail-e05"
              >
                内容を開く
              </button>
            </div>
          </figcaption>
        </figure>

        <!-- 6 -->
        <figure>
          <img src="../assets/E06.webp" alt="紫煙のオラクル">
          <figcaption>
            <div class="work-caption-row">
              <span class="work-title">紫煙のオラクル</span>
              <button
                type="button"
                class="open-detail"
                data-detail="detail-e06"
              >
                内容を開く
              </button>
            </div>
          </figcaption>
        </figure>

        <!-- 7 -->
        <figure>
          <img src="../assets/E07.webp" alt="春待ちの横顔">
          <figcaption>
            <div class="work-caption-row">
              <span class="work-title">春待ちの横顔</span>
              <button
                type="button"
                class="open-detail"
                data-detail="detail-e07"
              >
                内容を開く
              </button>
            </div>
          </figcaption>
        </figure>

        <!-- 8 -->
        <figure>
          <img src="../assets/E08.webp" alt="照れ隠しのマーメイド">
          <figcaption>
            <div class="work-caption-row">
              <span class="work-title">照れ隠しのマーメイド</span>
              <button
                type="button"
                class="open-detail"
                data-detail="detail-e08"
              >
                内容を開く
              </button>
            </div>
          </figcaption>
        </figure>

        <!-- 9 -->
        <figure>
          <img src="../assets/E09.webp" alt="雪花のドレス">
          <figcaption>
            <div class="work-caption-row">
              <span class="work-title">雪花のドレス</span>
              <button
                type="button"
                class="open-detail"
                data-detail="detail-e09"
              >
                内容を開く
              </button>
            </div>
          </figcaption>
        </figure>

        <!-- 10 -->
        <figure>
          <img src="../assets/E10.webp" alt="雨上がりのまなざし">
          <figcaption>
            <div class="work-caption-row">
              <span class="work-title">雨上がりのまなざし</span>
              <button
                type="button"
                class="open-detail"
                data-detail="detail-e10"
              >
                内容を開く
              </button>
            </div>
          </figcaption>
        </figure>

        <!-- 11 -->
        <figure>
          <img src="../assets/E11.webp" alt="紅き黒兎の晩餐">
          <figcaption>
            <div class="work-caption-row">
              <span class="work-title">紅き黒兎の晩餐</span>
              <button
                type="button"
                class="open-detail"
                data-detail="detail-e11"
              >
                内容を開く
              </button>
            </div>
          </figcaption>
        </figure>

      </div>

      <p style="margin-top: 12px; font-size: 0.9rem; text-align: center;">
        タイトルの「内容を開く」で作品のテキストが表示されます。
      </p>
    </div>
  </div>
  <!-- ギャラリー1：ここまで -->

  <!-- 作品ごとの二重ポップアップ（詳細モーダル） -->
<div id="detail-e01" class="detail-modal" aria-hidden="true">
  <div class="detail-inner">
    <button class="detail-close" type="button">✕ 閉じる</button>
    <h3>1.通信端末の分離と使い捨て設計</h3>
    <div class="detail-body">
      <p>1.通信端末の分離と使い捨て設計

1.中古スマホ or 中古ノートPCを用意

① 中古スマホまたは中古ノートPCを用意する。通信内容だけでなく、使用端末そのものの痕跡や特性を消すことが目的。端末が押収された場合でも「誰が使ったか」を特定できない構成を目指す。


② 購入時は現金決済＋身分証不要＋防犯カメラが無い（または死角）店舗を選ぶ。理想的購入場所：フリーマーケット、質屋、個人店、中古ショップの対面販売など。顔・体型の特定を防ぐため、帽子・マスク・体型が分かりにくい服装を着用すること。万一カメラが存在しても、特定リスクを最小限に抑えられる。購入時刻と実使用タイミングには最低1日以上の時間差を設ける。あわせて、使用地点・移動経路にも変則性を持たせることで追跡困難化を図る。


③  端末条件と前処理

「初期化済み」「Googleアカウント未設定」「SIM不要（Wi-Fi専用）」の端末を選び、接続予定の周辺機器（USB、Wi-Fiドングル、SDカード等）にも個体識別番号（シリアル番号やベンダーID）が含まれていない／一般的な量産モデルを選定する。OSが記録するUSB機器や周辺機器の識別情報（Vendor ID・Product ID・Serial）もログ解析や識別に用いられる場合があるため、USBメモリやWi-Fiアダプタはシリアルレス・一般流通品を選ぶことで、さらなる特定回避に繋がる。BIOSロックが無効／解除可能なモデルを優先。ストレージには個人情報・ログイン履歴・クレジット情報が一切残っていないことを確認。通信機能（Wi-Fi／Bluetooth）は内蔵されている必要あり（ただし後に遮断可）。


④ 使い捨て端末の基本運用ポリシー

この端末は一時使用専用とし、「廃棄・譲渡・物理破壊」前提で使用。端末内には個人名や一意なデータ（顔写真、特定の文体、指紋、連絡帳）を一切保存しない。使用後の破棄は「パーツ単位」「複数箇所への分散廃棄」など、回収困難化を徹底。必要に応じて「SDカードに起動OS」「RAM上にのみデータ生成」など完全非残存設計に。


 短命性ファイル設計（RAMディスク／自動削除）

さらに痕跡排除を徹底する場合、保存ファイルはストレージではなくRAMディスク上で処理するのが有効です。たとえば、TailsやLinux環境で /tmp や /dev/shm を活用し、揮発性領域に限定してデータを扱うことで、電源オフ時に自動消去されます。また、以下のように定期的な削除を自動化することも可能です。

--------------------------------------

# 例: /tmp/secured ディレクトリを10分ごとに削除

--------------------------------------

*/10 * * * * /bin/rm -rf /tmp/secured/*

--------------------------------------

このように、Crontabでファイルを一定間隔で削除したり、セッション終了時に一括削除スクリプトを走らせることで、万一の押収時もデータ回収を困難にできます。


補足：GrapheneOS端末を採用したい場合

スマートフォンを用いる場合、匿名性の高いAndroidカスタムOS「GrapheneOS」が有力候補。Google非依存、位置情報・IMEIアクセスの制御、個別アプリの権限厳格制御などが可能。ただし「匿名通信のメイン端末」としては不向きであり、閲覧・一方向確認用途（例：ニュース閲覧、事前情報取得など）に限定して使用することが望ましい。 


2.OSはTailsを利用する。

Tails OS（The Amnesic Incognito Live System）は、匿名性と痕跡を残さない設計に特化したライブOSです。USBから起動し、RAM上で動作、電源を切ればすべてが消去されます。ネット通信はすべて自動的にTor経由に強制され、ログは保存されません。


Persistent保存機能も備えており、必要最小限の設定やデータのみを別パーティションにLUKS暗号化で保存可能。ただし、USB自体が押収される可能性もあるため、起動用USBは使い捨て運用か、鍵の分離保管が望ましい。※高度な運用例として、鍵ファイルを別媒体（例：microSD）に保管し、起動時のみ統合する方法も有効。USB単体では復号不可能とすることで、押収時の物理リスクを低減できる。また、起動時にWi-FiアダプタのMACアドレスをランダム化することで物理的特定も困難にします。ウイルスやマルウェアにも強い設計です。


注意点として、Persistentストレージのパスフレーズが弱いと突破されるリスクがあり、起動中に押収された場合、RAM上のTorセッション情報が解析される可能性もあります。また、フィッシングや不正ファイルの実行など、人為的ミスによる脆弱性も存在します。


※Tailsは定期的に公式サイトから最新版をダウンロードし、セキュリティパッチを適用してください。Persistentの利用は必要最小限にし、保存データにも注意を払いましょう。インストール方法は別項で説明します。


応用：通信経路の多段化（VPN＋Tor＋I2P）

Tailsはすべての通信を強制的にTor経由にする設計ですが、VPNを中継することで「Torノードの入口すら隠す」ことも可能です（いわゆる「Tor over VPN」構成）。これにより、ISPやネットワーク監視者に対して、Torの利用そのものを秘匿することができます。


また、Tor出口ノードの監視リスクに対抗する目的で、「TorからI2Pへ中継」する構成も存在します。これは匿名性の異なる2つのネットワークを組み合わせ、出口情報の偏り・攻撃者の特定アルゴリズムを分断します。


構成例：[Tails端末]→[VPNプロバイダ（ノーログ型）]→[Torネットワーク]→[I2Pプロキシ（必要に応じて）]。これら多段構成は匿名性を高めますが、通信速度の低下や一部サービスとの非互換も生じるため、使用目的に応じて取捨選択が必要です。


 3.通信端末の物理・構造セキュリティ強化

① スピーカー・カメラ・マイクの物理破壊または遮断

通信端末に内蔵されているマイク・カメラ・スピーカー類は、映像・音声による特定リスクとなるため、物理的な対策が有効です。内蔵カメラはテープで隠すだけでなく、分解して破壊するのが理想です。マイクは無効化の他、ノイズ信号を流す「マイクジャマー」の活用も有効です。一部のノートPCではBIOSやUEFIから無効化設定が可能です。


「Supervisor Password」を設定して、BIOS設定変更をロック。「Boot Priority」で HDDやSSD起動を無効化 or 最下位に変更。USBのみ有効にして、Tails USBからの起動以外をブロックする。「Secure Boot」や「Fast Boot」も無効化するほか、UEFI対応機種ではSecure Bootキーの削除（カスタムキーの消去）により、第三者による起動環境改変をより困難にできる。※カスタムキー削除は一部機種で可能であり、「Platform Key (PK)」「Key Exchange Key (KEK)」を手動で無効化／削除することで、管理者不在の状態でのOSブート改変が不可能になる。


② BIOSパスワード設定＋起動制限（ROM書き換えによるセキュリティ強化）

第三者によるBIOS設定変更・OS起動・USB／HDDからのログ復元・改変を防ぐため、BIOSパスワード設定と起動制限の徹底が必要です。可能であれば、BIOSを完全に別物へ書き換える「coreboot」などの導入も効果的です。


・BIOS設定の具体的手順  

PCの電源を入れた直後に「F2」「DEL」「F10」などを連打して、BIOSまたはUEFI設定画面に入ります。  「Security」セクションで「Supervisor Password」を設定してください。  これはBIOS設定の変更をロックするためのパスワードで、第三者が勝手にブート順を変えたり、別のOSを起動することを防ぎます。  ※忘れると自分でも解除できないため、パスワードは安全な場所に保管するか、記憶できる強力なものにしましょう。


例：`8xJ!p@L93t#VwZ6^BqM2`（記号・大文字・小文字・数字を混ぜたランダムな構成が理想）

・「Boot Priority」設定→ HDD / SSD起動を無効化 or 最下位にして、USB以外の起動デバイス（CD/ネットワーク含む）をすべて無効化する。OS起動はTailsが入った自分のUSBに限定する。


・「Secure Boot」「Fast Boot」無効化→ 不明なOSの起動、高速バイパス起動のブロックする。 別OSによる改ざん・調査を防ぐ。「Exit」→ Save and Exit→ 設定を保存して再起動する。


これにより、BIOS設定の変更や不正なOSの起動を防止できます。※なお、ノートPCによりBIOS設定項目の内容や順番は異なるため、公式マニュアルや型番別の情報もあわせて確認すること。機種によっては「USB起動を許可する」設定そのものが非表示になっていることもある。


追加対策（オプション）として

・Power-on Password（電源投入ロック）も設定可能→ PCの電源投入時点からロック状態にできる（二重の防御）


・TPM / Intel ME 無効化→ BIOSの設定項目で、TPM（Trusted Platform Module）やIntel ME（Management Engine）を完全に無効化できれば、OS外からのバックドアアクセスを防げる（機種による）


・corebootなどによるROM書き換え→ ROM自体をオープンソースBIOSに置き換えることで、未知のBIOSバックドアを排除できます。 必要なツールとライブラリをインストールします。corebootのソースコードをダウンロード、ツールチェーンを構築し、corebootをビルドします。ビルドしたcorebootを対象のマザーボードにフラッシュします。※corebootの導入は高度な知識が必要であり、失敗するとPCが起動しなくなるリスクがあります。初心者の方には推奨されません。


③MACアドレスをランダム化（追跡防止）

Wi-Fi接続時、機器固有のMACアドレスで追跡される可能性あります。Wi-Fi使用時に記録されるMACアドレスによる端末特定を防ぐには、Linux / Tails上ではコマンドで変更可能です。

--------------------------------------

「sudo ifconfig wlan0 down」→無線LANを一時停止

「sudo macchanger -r wlan0」→MACアドレスをランダム変更

「sudo ifconfig wlan0 up」→無線LANを再起動

--------------------------------------

「macchanger -s wlan0」→変更の確認

--------------------------------------

Permanent MAC（本物）と Current MAC（偽装後）に違いが出ていれば成功です。※再起動されると再度設定が必要なのでMACアドレス自動変更の設定方法。

1.任意のファイル名でスクリプトを作成。(例：romani.sh)

--------------------------------------

sudo nano /usr/local/bin/romani.sh

--------------------------------------

中身の記述

--------------------------------------

#!/bin/bash

ifconfig wlan0 down

macchanger -r wlan0

ifconfig wlan0 up

--------------------------------------

 2.実行権限を付与。

--------------------------------------

sudo chmod +x /usr/local/bin/randommac.sh

--------------------------------------

3.起動時に自動で実行させる設定に反映。

--------------------------------------

@reboot /usr/local/bin/romani.shこの設定により、端末が起動するたびに自動でMACアドレスがランダム化され、追跡されにくくなります。※Tails OSではMACアドレスの自動ランダム化が標準機能として有効ですが、Wi-Fiアダプタのチップセットによってはランダム化失敗や非対応の例もあるため、事前確認が必須です。実績のあるチップセットとしては、Atheros AR9271 や Realtek RTL8812AU 搭載のUSB Wi-Fiドングルが macchanger との高い互換性を示しています。低価格帯製品でもこれらチップを使用しているモデルがあり、実用性と匿名性を両立できます。

--------------------------------------

4.確認コマンド。

ls -l /usr/local/bin/romani.sh

 （-rwxr-xr-xの表示が出ていれば、スクリプトは 「実行可能な状態」）

--------------------------------------

中古PC + USB起動Tails OS起動→Supervisor PasswordでBIOS保護→HDD/SSDからの起動を完全に禁止、起動は指定USB（Tails）のみ可能。MACアドレスをランダム化→ スピーカー・マイク・カメラは物理破壊、この構成なら、起動時以外は中身にアクセスできず、物理的押収にも非常に強固な端末構造になります。


4.補足

・物理破壊（究極対策）案

本当に国家レベルの押収対策を想定する場合、物理的な自壊装置（例：ニクロム線によるSDカード焼却）は有効だが、実装に高度な注意が必要。加えて、暗号的な自壊構造（鍵のRAM上生成・通電停止で消滅）の導入も極めて有効である。（一定温度・一定電圧超過時にSDカードを破壊するなど）。これは危険を伴うため、「自作＋使用者責任」ですが、証拠が絶対に残らない構成の構築が可能になります。


※たとえば「起動時に一度だけ読み込まれる暗号鍵」をRAM上に生成し、本体の電源遮断・指定のキーストロークで即時無効化するよう設計すれば、証拠保全を目的とする押収・中断の際にも復旧は困難となる。これにより物理破壊を伴わない論理自壊を実現可能。


以上、端末取得の匿名性(現金・非カメラ環境＋使用時差の徹底で、物理取得時点から特定リスクを極小化。)、OSの特性活用(Tails OSのRAM実行・ログ非保存・Tor通信強制＋Persistent暗号化を正しく運用。)、BIOS起動制御＋ROM書き換え可能性(外部メディア以外からの起動禁止、BIOSパスロック、多重起動制限の導入、corebootにも言及済み。)、物理情報端末対策(マイク／カメラ／スピーカー物理遮断、TPM・Intel ME・Fast Bootの遮断、MAC偽装の自動化まで構築。)、追加補足が実用的で明快(MAC変更の起動前適用、物理自壊オプションまで検討されており、国家レベルの押収対応にも耐える。)


「Tails×中古端末×BIOS制限×MAC偽装×物理遮断」→ この組み合わせにより、実行環境・通信経路・痕跡・物理端末・起動制御すべてを多層で保護し、押収時・解析時にも中身を読まれにくい構造が確立されています。</p>
    </div>
  </div>
</div>


  <div id="detail-e02" class="detail-modal" aria-hidden="true">
    <div class="detail-inner">
      <button class="detail-close" type="button">✕ 閉じる</button>
      <h3>碧雫のマーメイド</h3>
      <div class="detail-body">
        <!-- ★ここに「碧雫のマーメイド」の原文 -->
        <p>ここに「碧雫のマーメイド」の原文。</p>
      </div>
    </div>
  </div>

  <div id="detail-e03" class="detail-modal" aria-hidden="true">
    <div class="detail-inner">
      <button class="detail-close" type="button">✕ 閉じる</button>
      <h3>森に囁く少女</h3>
      <div class="detail-body">
        <p>ここに「森に囁く少女」の原文。</p>
      </div>
    </div>
  </div>

  <div id="detail-e04" class="detail-modal" aria-hidden="true">
    <div class="detail-inner">
      <button class="detail-close" type="button">✕ 閉じる</button>
      <h3>水色リボンの微笑み</h3>
      <div class="detail-body">
        <p>ここに「水色リボンの微笑み」の原文。</p>
      </div>
    </div>
  </div>

  <div id="detail-e05" class="detail-modal" aria-hidden="true">
    <div class="detail-inner">
      <button class="detail-close" type="button">✕ 閉じる</button>
      <h3>内緒話の放課後</h3>
      <div class="detail-body">
        <p>ここに「内緒話の放課後」の原文。</p>
      </div>
    </div>
  </div>

  <div id="detail-e06" class="detail-modal" aria-hidden="true">
    <div class="detail-inner">
      <button class="detail-close" type="button">✕ 閉じる</button>
      <h3>紫煙のオラクル</h3>
      <div class="detail-body">
        <p>ここに「紫煙のオラクル」の原文。</p>
      </div>
    </div>
  </div>

  <div id="detail-e07" class="detail-modal" aria-hidden="true">
    <div class="detail-inner">
      <button class="detail-close" type="button">✕ 閉じる</button>
      <h3>春待ちの横顔</h3>
      <div class="detail-body">
        <p>ここに「春待ちの横顔」の原文。</p>
      </div>
    </div>
  </div>

  <div id="detail-e08" class="detail-modal" aria-hidden="true">
    <div class="detail-inner">
      <button class="detail-close" type="button">✕ 閉じる</button>
      <h3>照れ隠しのマーメイド</h3>
      <div class="detail-body">
        <p>ここに「照れ隠しのマーメイド」の原文。</p>
      </div>
    </div>
  </div>

  <div id="detail-e09" class="detail-modal" aria-hidden="true">
    <div class="detail-inner">
      <button class="detail-close" type="button">✕ 閉じる</button>
      <h3>雪花のドレス</h3>
      <div class="detail-body">
        <p>ここに「雪花のドレス」の原文。</p>
      </div>
    </div>
  </div>

  <div id="detail-e10" class="detail-modal" aria-hidden="true">
    <div class="detail-inner">
      <button class="detail-close" type="button">✕ 閉じる</button>
      <h3>雨上がりのまなざし</h3>
      <div class="detail-body">
        <p>ここに「雨上がりのまなざし」の原文。</p>
      </div>
    </div>
  </div>

  <div id="detail-e11" class="detail-modal" aria-hidden="true">
    <div class="detail-inner">
      <button class="detail-close" type="button">✕ 閉じる</button>
      <h3>紅き黒兎の晩餐</h3>
      <div class="detail-body">
        <p>ここに「紅き黒兎の晩餐」の原文。</p>
      </div>
    </div>
  </div>
  <!-- 詳細モーダルここまで -->

  <!-- ギャラリー2：動画用 -->
  <div id="gallery-02" class="gallery-modal" aria-hidden="true">
    <div class="gallery-inner">
      <button class="gallery-close" type="button">✕ 閉じる</button>
      <div class="gallery-images">
        <figure>
          <a href="videos/sample01.mp4" download>
            <img src="images/movie-thumb01.webp" alt="動画1サムネ" />
          </a>
          <figcaption>動画1（クリックで動画DL）</figcaption>
        </figure>
      </div>
    </div>
  </div>

  <!-- ギャラリー3：ブログ -->
  <div id="gallery-03" class="gallery-modal" aria-hidden="true">
    <div class="gallery-inner">
      <button class="gallery-close" type="button">✕ 閉じる</button>
      <div class="gallery-images">
        <figure>
          <a href="blog/blog00.html">
            <img src="images/blog-thumb01.webp" alt="ブログ一覧" />
          </a>
          <figcaption>ブログ一覧へ</figcaption>
        </figure>
      </div>
    </div>
  </div>

  <!-- ギャラリー4：その他 -->
  <div id="gallery-04" class="gallery-modal" aria-hidden="true">
    <div class="gallery-inner">
      <button class="gallery-close" type="button">✕ 閉じる</button>
      <div class="gallery-images">
        <figure>
          <a href="others/other01.zip" download>
            <img src="images/other-thumb01.webp" alt="その他1" />
          </a>
          <figcaption>その他1（クリックでDL）</figcaption>
        </figure>
      </div>
    </div>
  </div>

</main>

<!-- フッターナビ -->
<div class="fixed-footer-nav" style="display:flex;flex-wrap:nowrap;justify-content:center;max-width:95vw;gap:16px">
  <a href="../index.html" style="white-space:nowrap;flex:0 0 auto;min-width:90px;max-width:140px;overflow:hidden;text-overflow:ellipsis;">トップページ</a>
  <a href="blog/music.html" style="white-space:nowrap;flex:0 0 auto;min-width:90px;max-width:140px;overflow:hidden;text-overflow:ellipsis;">音楽素材</a>
  <a href="blog/blog00.html" style="white-space:nowrap;flex:0 0 auto;min-width:90px;max-width:140px;overflow:hidden;text-overflow:ellipsis;">ブログ</a>
</div>

<!-- ギャラリー＆二重ポップアップ用スクリプト -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // ▼ 詳細を見る（トップのカード） → 対応するギャラリーを開く
    document.querySelectorAll('.open-gallery').forEach(function (btn) {
      btn.addEventListener('click', function () {
        const id = btn.getAttribute('data-gallery');
        const modal = document.getElementById(id);
        if (modal) {
          modal.classList.add('is-open');
          modal.setAttribute('aria-hidden', 'false');
        }
      });
    });

    // ✕閉じる ＋ 背景クリックでギャラリーを閉じる
    document.querySelectorAll('.gallery-modal').forEach(function (modal) {
      const closeBtn = modal.querySelector('.gallery-close');

      if (closeBtn) {
        closeBtn.addEventListener('click', function () {
          modal.classList.remove('is-open');
          modal.setAttribute('aria-hidden', 'true');
        });
      }

      modal.addEventListener('click', function (e) {
        if (e.target === modal) {
          modal.classList.remove('is-open');
          modal.setAttribute('aria-hidden', 'true');
        }
      });
    });

    // ESCキーでギャラリー & 詳細モーダルを閉じる
    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape') {
        document.querySelectorAll('.gallery-modal.is-open').forEach(function (modal) {
          modal.classList.remove('is-open');
          modal.setAttribute('aria-hidden', 'true');
        });
        document.querySelectorAll('.detail-modal.is-open').forEach(function (modal) {
          modal.classList.remove('is-open');
          modal.setAttribute('aria-hidden', 'true');
        });
      }
    });

    // タイトル横の「内容を開く」 → 二重ポップアップ（詳細）
    const detailOpenButtons = document.querySelectorAll('.open-detail');

    detailOpenButtons.forEach(function (btn) {
      btn.addEventListener('click', function () {
        const id = btn.getAttribute('data-detail');
        const modal = document.getElementById(id);
        if (!modal) return;

        modal.classList.add('is-open');
        modal.setAttribute('aria-hidden', 'false');
      });
    });

    // 詳細モーダルの ✕ ＋ 背景クリック
    document.querySelectorAll('.detail-modal').forEach(function (modal) {
      const closeBtn = modal.querySelector('.detail-close');

      if (closeBtn) {
        closeBtn.addEventListener('click', function () {
          modal.classList.remove('is-open');
          modal.setAttribute('aria-hidden', 'true');
        });
      }

      modal.addEventListener('click', function (e) {
        if (e.target === modal) {
          modal.classList.remove('is-open');
          modal.setAttribute('aria-hidden', 'true');
        }
      });
    });
  });
</script>

</body>
</html>

