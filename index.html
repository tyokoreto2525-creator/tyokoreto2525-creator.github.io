<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Midorimushi Portfolio</title>
  <link rel="stylesheet" href="css/style.css" />

  <style>
    /* 画像拡大ライトボックス */
    .image-lightbox {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.85);
      z-index: 9999;
    }
    .image-lightbox.is-open {
      display: flex;
    }
    .image-lightbox-inner {
      position: relative;
      max-width: 90vw;
      max-height: 90vh;
      padding: 12px;
      background: #000;
      border-radius: 8px;
      overflow: auto;
    }
    .image-lightbox-inner img {
      display: block;
      max-width: 100%;
      height: auto;
    }
    .image-lightbox-close {
      position: absolute;
      top: 8px;
      right: 8px;
      padding: 4px 10px;
      border: none;
      border-radius: 4px;
      background: #ff4f8a;
      color: #fff;
      cursor: pointer;
      font-size: 0.9rem;
    }
    .image-lightbox-caption {
      margin-top: 6px;
      text-align: center;
      color: #f5f5f5;
      font-size: 0.9rem;
    }

    /* モーダル本体（PC・スマホ共通） */
    .gallery-modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.8);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9000;
    }
    .gallery-modal.is-open {
      display: flex;
    }
    .gallery-inner {
      position: relative;
      max-width: 1000px;
      max-height: 90vh;
      overflow-y: auto;
      padding: 16px;
      background: rgba(0,0,0,0.9);
      border-radius: 10px;
      box-sizing: border-box;
    }
    .gallery-close {
      padding: 6px 12px;
      border-radius: 4px;
      border: none;
      background: #ff4f8a;
      color: #fff;
      cursor: pointer;
      font-size: 0.9rem;
    }

    /* テキスト一覧用 */
    .text-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 100%;
    }
    .text-row {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 8px;
      background: rgba(0,0,0,0.7);
      padding: 10px 12px;
      border-radius: 6px;
      color: #f8f8f8;
    }
    .text-row-title {
      flex: 1 1 auto;
      font-size: 0.95rem;
    }
    .text-row button {
      flex: 0 0 auto;
      border: none;
      border-radius: 4px;
      padding: 6px 10px;
      cursor: pointer;
      font-size: 0.85rem;
      background: #ff4f8a;
      color: #fff;
    }
    .text-body {
      display: none;
      margin-top: 8px;
      padding: 10px 12px;
      border-radius: 6px;
      background: rgba(0,0,0,0.85);
      color: #f8f8f8;
      font-size: 0.9rem;
      line-height: 1.6;
      white-space: pre-wrap;
    }
    .text-body.is-open {
      display: block;
    }

    /* ===== スマホ用調整 ===== */
    @media (max-width: 768px) {

      /* 「詳細を見る」の4カードが画面内に収まるように */
      .overlay-gallery {
        position: static;
        transform: none;
        margin: 12px auto 20px;
        max-width: 94vw;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }
      .art-card {
        width: 100%;
      }

      /* モーダルはほぼ全画面＋下に閉じるボタン固定 */
      .gallery-inner {
        width: 96vw;
        max-height: 88vh;
        padding-bottom: 56px; /* 下ボタン分余白 */
      }

      .gallery-modal .gallery-close {
        position: fixed;
        bottom: 12px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 10001;
      }
    }
  </style>
</head>
<body>
<header class="container">
  <h1>ちょこっとチョコレート / Portfolio(テスト)</h1>
  <nav class="nav">
    <a href="#contact">お問い合わせ</a>
  </nav>
</header>

<main class="container">
  <h2>Chocolate Mint</h2>
  <p>テスト</p>

  <!-- 背景画像＋上に重ねるギャラリー -->
  <section id="works" class="card image-overlay-wrapper">
    <div class="cover-image">
      <div class="overlay-gallery">

        <!-- 作品1：画像 -->
        <div class="art-card bg-01">
          <div class="art-content">
            <h3>画像</h3>
            <div class="caption-container">
              <button
                class="toggle-button open-gallery"
                type="button"
                data-gallery="gallery-01"
              >
                ▼ 詳細を見る
              </button>
              <p id="cap-01" class="caption"></p>
            </div>
          </div>
        </div>

        <!-- 作品2：動画 -->
        <div class="art-card bg-02">
          <div class="art-content">
            <h3>動画</h3>
            <div class="caption-container">
              <button
                class="toggle-button open-gallery"
                type="button"
                data-gallery="gallery-02"
              >
                ▼ 詳細を見る
              </button>
              <p id="cap-02" class="caption"></p>
            </div>
          </div>
        </div>

        <!-- 作品3：ブログ -->
        <div class="art-card bg-03">
          <div class="art-content">
            <h3>ブログ</h3>
            <div class="caption-container">
              <button
                class="toggle-button open-gallery"
                type="button"
                data-gallery="gallery-03"
              >
                ▼ 詳細を見る
              </button>
              <p id="cap-03" class="caption"></p>
            </div>
          </div>
        </div>

        <!-- 作品4：その他 -->
        <div class="art-card bg-04">
          <div class="art-content">
            <h3>その他</h3>
            <div class="caption-container">
              <button
                class="toggle-button open-gallery"
                type="button"
                data-gallery="gallery-04"
              >
                ▼ 詳細を見る
              </button>
              <p id="cap-04" class="caption"></p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- ギャラリー1：画像一覧 -->
  <div id="gallery-01" class="gallery-modal" aria-hidden="true">
    <div class="gallery-inner">
      <button class="gallery-close" type="button">✕ 閉じる</button>

      <div class="gallery-images">

        <!-- 1 -->
        <figure>
          <a href="../assets/E01.webp" download>
            <img src="../assets/E01.webp" alt="黄昏の祈り">
          </a>
          <figcaption>黄昏の祈り</figcaption>
          <button type="button" class="enlarge-btn">拡大</button>
        </figure>

        <!-- 2 -->
        <figure>
          <a href="../assets/E02.webp" download>
            <img src="../assets/E02.webp" alt="碧雫のマーメイド">
          </a>
          <figcaption>碧雫のマーメイド</figcaption>
          <button type="button" class="enlarge-btn">拡大</button>
        </figure>

        <!-- 3 -->
        <figure>
          <a href="../assets/E03.webp" download>
            <img src="../assets/E03.webp" alt="森に囁く少女">
          </a>
          <figcaption>森に囁く少女</figcaption>
          <button type="button" class="enlarge-btn">拡大</button>
        </figure>

        <!-- 4 -->
        <figure>
          <a href="../assets/E04.webp" download>
            <img src="../assets/E04.webp" alt="水色リボンの微笑み">
          </a>
          <figcaption>水色リボンの微笑み</figcaption>
          <button type="button" class="enlarge-btn">拡大</button>
        </figure>

        <!-- 5 -->
        <figure>
          <a href="../assets/E05.webp" download>
            <img src="../assets/E05.webp" alt="内緒話の放課後">
          </a>
          <figcaption>内緒話の放課後</figcaption>
          <button type="button" class="enlarge-btn">拡大</button>
        </figure>

        <!-- 6 -->
        <figure>
          <a href="../assets/E06.webp" download>
            <img src="../assets/E06.webp" alt="紫煙のオラクル">
          </a>
          <figcaption>紫煙のオラクル</figcaption>
          <button type="button" class="enlarge-btn">拡大</button>
        </figure>

        <!-- 7 -->
        <figure>
          <a href="../assets/E07.webp" download>
            <img src="../assets/E07.webp" alt="春待ちの横顔">
          </a>
          <figcaption>春待ちの横顔</figcaption>
          <button type="button" class="enlarge-btn">拡大</button>
        </figure>

        <!-- 8 -->
        <figure>
          <a href="../assets/E08.webp" download>
            <img src="../assets/E08.webp" alt="照れ隠しのマーメイド">
          </a>
          <figcaption>照れ隠しのマーメイド</figcaption>
          <button type="button" class="enlarge-btn">拡大</button>
        </figure>

        <!-- 9 -->
        <figure>
          <a href="../assets/E09.webp" download>
            <img src="../assets/E09.webp" alt="雪花のドレス">
          </a>
          <figcaption>雪花のドレス</figcaption>
          <button type="button" class="enlarge-btn">拡大</button>
        </figure>

        <!-- 10 -->
        <figure>
          <a href="../assets/E10.webp" download>
            <img src="../assets/E10.webp" alt="雨上がりのまなざし">
          </a>
          <figcaption>雨上がりのまなざし</figcaption>
          <button type="button" class="enlarge-btn">拡大</button>
        </figure>

        <!-- 11 -->
        <figure>
          <a href="../assets/E11.webp" download>
            <img src="../assets/E11.webp" alt="紅き黒兎の晩餐">
          </a>
          <figcaption>紅き黒兎の晩餐</figcaption>
          <button type="button" class="enlarge-btn">拡大</button>
        </figure>

      </div>

      <p style="margin-top: 12px; font-size: 0.9rem; text-align: center;">
        ※画像クリックでダウンロード、「拡大」で大きく表示されます。
      </p>

    </div>
  </div>

  <!-- 画像拡大ライトボックス -->
  <div id="image-lightbox" class="image-lightbox" aria-hidden="true">
    <div class="image-lightbox-inner">
      <button class="image-lightbox-close" type="button">✕ 閉じる</button>
      <img id="lightbox-img" src="" alt="">
      <p id="lightbox-caption" class="image-lightbox-caption"></p>
    </div>
  </div>

  <!-- ギャラリー2：動画 -->
  <div id="gallery-02" class="gallery-modal" aria-hidden="true">
    <div class="gallery-inner">
      <button class="gallery-close" type="button">✕ 閉じる</button>
      <div class="gallery-images">
        <figure>
          <a href="videos/sample01.mp4" download>
            <img src="images/movie-thumb01.webp" alt="動画1サムネ" />
          </a>
          <figcaption>動画1（クリックで動画DL）</figcaption>
        </figure>
      </div>
    </div>
  </div>

  <!-- ギャラリー3：ブログ -->
  <div id="gallery-03" class="gallery-modal" aria-hidden="true">
    <div class="gallery-inner">
      <button class="gallery-close" type="button">✕ 閉じる</button>
      <div class="gallery-images">
        <figure>
          <a href="blog/blog00.html">
            <img src="images/blog-thumb01.webp" alt="ブログ一覧" />
          </a>
          <figcaption>ブログ一覧へ</figcaption>
        </figure>
      </div>
    </div>
  </div>

 <!-- ギャラリー4：その他（タイトル／内容を見る） -->
<div id="gallery-04" class="gallery-modal" aria-hidden="true">
  <div class="gallery-inner">
    <button class="gallery-close" type="button">✕ 閉じる</button>

    <h3 style="margin-bottom:12px;color:#fff;">その他テキスト</h3>

    <div class="text-list">

      <!-- 1つ目：通信端末の分離と使い捨て設計 -->
      <div>
        <div class="text-row">
          <span class="text-row-title">1.通信端末の分離と使い捨て設計</span>
          <button
            type="button"
            class="text-toggle-btn js-load-article"
            data-src="tokumei1.html"
            data-target="text-1"
          >
            内容を見る
          </button>
        </div>
        <!-- 読み込み先の箱 -->
        <div id="text-01" class="text-body"></div>
      </div>

      <!-- 2つ目：2.TailsOSの設定（例） -->
      <div>
        <div class="text-row">
          <span class="text-row-title">2.TailsOSの設定</span>
          <button
            type="button"
            class="text-toggle-btn js-load-article"
            data-src="tokumei2.html"
            data-target="text-2"
          >
            内容を見る
          </button>
        </div>
        <!-- 読み込み先の箱 -->
        <div id="text-02" class="text-body"></div>
      </div>

    </div>
  </div>
</div>


        <!-- ★ここは中身を空にしておく（後でJSが tokumei01.html を流し込む） -->
        <div id="text-01" class="text-body" hidden></div>
      </div>

      <!-- 2つ目以降の項目を増やすときは、同じ形で
           data-src と id="text-XX" だけ増やしていけばOK -->
    </div>
  </div>
</div>

       
    </div>
  </div>

</main>

<!-- フッターナビ -->
<div class="fixed-footer-nav" style="display:flex;flex-wrap:nowrap;justify-content:center;max-width:95vw;gap:16px">
  <a href="../index.html" style="white-space:nowrap;flex:0 0 auto;min-width:90px;max-width:140px;overflow:hidden;text-overflow:ellipsis;">トップページ</a>
  <a href="blog/music.html" style="white-space:nowrap;flex:0 0 auto;min-width:90px;max-width:140px;overflow:hidden;text-overflow:ellipsis;">音楽素材</a>
  <a href="blog/blog00.html" style="white-space:nowrap;flex:0 0 auto;min-width:90px;max-width:140px;overflow:hidden;text-overflow:ellipsis;">ブログ</a>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {

    // ▼ 詳細を見る → モーダルを開く
    document.querySelectorAll('.open-gallery').forEach(function (btn) {
      btn.addEventListener('click', function () {
        const id = btn.getAttribute('data-gallery');
        const modal = document.getElementById(id);
        if (modal) {
          modal.classList.add('is-open');
          modal.setAttribute('aria-hidden', 'false');
        }
      });
    });

    // ✕閉じる ＋ 背景クリックで閉じる
    document.querySelectorAll('.gallery-modal').forEach(function (modal) {
      const closeBtn = modal.querySelector('.gallery-close');
      if (closeBtn) {
        closeBtn.addEventListener('click', function () {
          modal.classList.remove('is-open');
          modal.setAttribute('aria-hidden', 'true');
        });
      }
      modal.addEventListener('click', function (e) {
        if (e.target === modal) {
          modal.classList.remove('is-open');
          modal.setAttribute('aria-hidden', 'true');
        }
      });
    });

    // ESCキーで全部閉じる
    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape') {
        document.querySelectorAll('.gallery-modal.is-open').forEach(function (modal) {
          modal.classList.remove('is-open');
          modal.setAttribute('aria-hidden', 'true');
        });
        const lb = document.getElementById('image-lightbox');
        if (lb) {
          lb.classList.remove('is-open');
          lb.setAttribute('aria-hidden', 'true');
        }
      }
    });

    // 画像拡大ライトボックス
    const lightbox = document.getElementById('image-lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
    const lightboxCaption = document.getElementById('lightbox-caption');

    document.querySelectorAll('#gallery-01 figure').forEach(function (fig) {
      const btn = fig.querySelector('.enlarge-btn');
      const img = fig.querySelector('img');
      const cap = fig.querySelector('figcaption');
      if (!btn || !img) return;

      btn.addEventListener('click', function () {
        lightboxImg.src = img.src;
        lightboxImg.alt = img.alt || '';
        lightboxCaption.textContent = cap ? cap.textContent : (img.alt || '');
        lightbox.classList.add('is-open');
        lightbox.setAttribute('aria-hidden', 'false');
      });
    });

    const lbClose = document.querySelector('.image-lightbox-close');
    if (lbClose) {
      lbClose.addEventListener('click', function () {
        lightbox.classList.remove('is-open');
        lightbox.setAttribute('aria-hidden', 'true');
      });
    }
    lightbox.addEventListener('click', function (e) {
      if (e.target === lightbox) {
        lightbox.classList.remove('is-open');
        lightbox.setAttribute('aria-hidden', 'true');
      }
    });

    // その他の「内容を見る」開閉
    document.querySelectorAll('.text-toggle-btn').forEach(function (btn) {
      btn.addEventListener('click', function () {
        const id = btn.getAttribute('data-target');
        const body = document.getElementById(id);
        if (!body) return;
        const isOpen = body.classList.contains('is-open');
        if (isOpen) {
          body.classList.remove('is-open');
          btn.textContent = '内容を見る';
        } else {
          body.classList.add('is-open');
          btn.textContent = '閉じる';
        }
      });
    });

  });
</script>

</body>
</html>





